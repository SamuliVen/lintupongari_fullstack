{"version":3,"sources":["services/LintuService.js","Havainnot.js","services/login.js","components/Register.js","Linnut.js","App.js","index.js"],"names":["havaintoUrl","token","getAll","axios","get","then","response","data","getHavainto","getLintu","getUser","createHavainto","newObject","a","config","headers","Authorization","post","updateHavainto","id","put","removeHavainto","delete","setToken","newToken","Havainnot","havaintoList","deleteHavainto","map","havainto","className","laji","maara","kunta","paikka","lisatiedot","onClick","login","credentials","Register","type","Linnut","lintuList","lintu","i","tieteellinenNimi","src","kuvaWikipediastaAPI","style","width","alt","lahko","heimo","suku","elinvoimaisuus","App","useState","setHavaintoList","setLintuList","setLaji","setMaara","setKunta","setPaikka","setLisatiedot","pvm","setPvm","username","setUsername","password","setPassword","user","setUser","useEffect","LintuService","initialHavainnot","initialLinnut","loggedUserJSON","window","localStorage","getItem","JSON","parse","addHavainto","event","preventDefault","returnedLintu","concat","handleLajiChange","target","value","handleMaaraChange","handleKuntaChange","handlePaikkaChange","handlePvmChange","handleTiedotChange","handleLogin","loginService","setItem","stringify","console","log","handleLogout","removeItem","to","onSubmit","name","onChange","path","confirm","removedHavainto","filter","bird","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6c7c804c.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/lintudb/'\r\nconst havaintoUrl = '/api/lintudb/havainto'\r\nconst lintuUrl = '/api/lintudb/lintu'\r\nconst userUrl = '/api/lintudb/user'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n    token = `bearer ${newToken}`\r\n  }\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst getHavainto = () => {\r\n    const request = axios.get(havaintoUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst getLintu = () => {\r\n    const request = axios.get(lintuUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst getUser = () => {\r\n    const request = axios.get(userUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst createHavainto = async newObject => {\r\n    const config = {\r\n        headers: { Authorization: token },\r\n      }\r\n    const response = await axios.post(havaintoUrl, newObject, config)\r\n    return response.data\r\n}\r\n\r\nconst updateHavainto = (id, newObject) => {\r\n    const request = axios.put(`${havaintoUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst removeHavainto = (id) => {\r\n    const request = axios.delete(`${havaintoUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, getHavainto, getLintu, getUser, createHavainto, updateHavainto, removeHavainto, setToken }","import React from 'react'\r\n\r\nconst Havainnot = ({ havaintoList, deleteHavainto }) => {\r\n\r\n    return (\r\n        <div>\r\n            <h2> Havainnot </h2>\r\n            <ul>\r\n                {havaintoList.map(havainto =>\r\n                    <div className=\"havainto\">\r\n                        <li>\r\n                            <h3>Laji: {havainto.laji}</h3>\r\n                            <p> Määrä: {havainto.maara}</p>\r\n                            <p> Paikkakunta: {havainto.kunta} <br></br>\r\n                                Paikka: {havainto.paikka}<br></br>\r\n                                Lisätiedot: {havainto.lisatiedot}</p>\r\n                            <p>Havainnoija: </p>\r\n\r\n                            <button className=\"btn\">Muokkaa havaintoa</button>\r\n                            <button className=\"btn\" onClick={() =>\r\n                                deleteHavainto(havainto)}>Poista havainto</button>\r\n                            <button className=\"btn\">Tulosta havainto</button>\r\n                        </li>\r\n                    </div>\r\n                )}\r\n            </ul>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Havainnot","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react'\r\n\r\nconst Register = () => {\r\n    return (\r\n        <div className=\"Login-laatikko\">\r\n            <h2>Rekisteröidy</h2>\r\n            <form>\r\n                <label>\r\n                    <p>Username</p>\r\n                    <input type=\"text\" />\r\n                </label>\r\n                <label>\r\n                    <p>Password</p>\r\n                    <input type=\"password\" />\r\n                </label>\r\n                <div>\r\n                    <button type=\"submit\">Submit</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Register","import React from 'react';\r\n\r\nconst Linnut = ({ lintuList }) => {\r\n    return (\r\n        <div>\r\n            <h2> Lintutaulu </h2>\r\n            {lintuList.map((lintu, i) => {\r\n                    return (\r\n                        <div key={i}>\r\n                            <div className=\"lintu\">\r\n                                <h3>Laji: {lintu.laji}</h3>\r\n                                <p>Tieteellinen nimi: {lintu.tieteellinenNimi}</p>\r\n                                <img src={lintu.kuvaWikipediastaAPI} className=\"img\" style={{ width: 300 }} alt={lintu.laji} />\r\n                                <p>Lahko:{lintu.lahko} <br></br>\r\n                                    Heimo: {lintu.heimo} <br></br>\r\n                                    Suku: {lintu.suku}</p>\r\n                                <p>Elinvoimaisuus: {lintu.elinvoimaisuus}</p>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Linnut","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter, NavLink, Route } from \"react-router-dom\";\r\nimport LintuService from \"./services/LintuService\";\r\nimport Havainnot from \"./Havainnot\";\r\nimport loginService from \"./services/login\";\r\nimport Register from \"./components/Register\";\r\nimport Linnut from \"./Linnut\";\r\nimport \"./index.css\";\r\n\r\nconst App = () => {\r\n  const [havaintoList, setHavaintoList] = useState([]);\r\n  const [lintuList, setLintuList] = useState([]);\r\n  const [laji, setLaji] = useState();\r\n  const [maara, setMaara] = useState();\r\n  const [kunta, setKunta] = useState();\r\n  const [paikka, setPaikka] = useState();\r\n  const [lisatiedot, setLisatiedot] = useState();\r\n  const [pvm, setPvm] = useState();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    LintuService.getHavainto().then((initialHavainnot) => {\r\n      setHavaintoList(initialHavainnot);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    LintuService.getLintu().then((initialLinnut) => {\r\n      setLintuList(initialLinnut);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n      LintuService.setToken(user.token)\r\n    }\r\n  }, [])\r\n\r\n  const addHavainto = (event) => {\r\n    event.preventDefault();\r\n    const newObject = {\r\n      laji: laji,\r\n      maara: maara,\r\n      kunta: kunta,\r\n      paikka: paikka,\r\n      lisatiedot: lisatiedot,\r\n    };\r\n\r\n    LintuService.createHavainto(newObject).then((returnedLintu) => {\r\n      setHavaintoList(havaintoList.concat(returnedLintu));\r\n      setLaji(\"\");\r\n      setMaara(\"\");\r\n      setKunta(\"\");\r\n      setPaikka(\"\");\r\n      setLisatiedot(\"\");\r\n      setPvm(\"\");\r\n    });\r\n  };\r\n\r\n  const deleteHavainto = (havainto) => {\r\n    if (window.confirm(\"Poista \" + havainto.laji + \"?\")) {\r\n      LintuService.removeHavainto(havainto.id).then((removedHavainto) => {\r\n        setHavaintoList(havaintoList.filter((bird) => bird.id !== havainto.id));\r\n      });\r\n    }\r\n  };\r\n  // const updateHavainto = ???\r\n\r\n  const loginForm = () => (\r\n    <form onSubmit={handleLogin}>\r\n      <div>\r\n        username\r\n        <input\r\n          type=\"text\"\r\n          value={username}\r\n          name=\"Username\"\r\n          onChange={({ target }) => setUsername(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        password\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          name=\"Password\"\r\n          onChange={({ target }) => setPassword(target.value)}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">login</button>\r\n    </form>\r\n  );\r\n\r\n  const lintuForm = () => (\r\n    <div>\r\n      <h4>Lisää uusi havainto:</h4>\r\n      <form onSubmit={addHavainto} className=\"lintuform\">\r\n        <div>\r\n          Laji: <input value={laji} onChange={handleLajiChange} />\r\n        </div>\r\n        <div>\r\n          Määrä: <input value={maara} onChange={handleMaaraChange} />\r\n        </div>\r\n        <div>\r\n          Päivämäärä: <input value={pvm} onChange={handlePvmChange} />\r\n        </div>\r\n        <div>\r\n          Kunta: <input value={kunta} onChange={handleKuntaChange} />\r\n        </div>\r\n        <div>\r\n          Paikka: <input value={paikka} onChange={handlePaikkaChange} />\r\n        </div>\r\n        <div>\r\n          Lisätiedot: <input value={lisatiedot} onChange={handleTiedotChange} />\r\n        </div>\r\n        <div>Havainnoija:</div>\r\n        <button type=\"submit\">Tallenna</button>\r\n        <button type=\"reset\">Tyhjennä</button>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  const handleLajiChange = (event) => {\r\n    setLaji(event.target.value);\r\n  };\r\n\r\n  const handleMaaraChange = (event) => {\r\n    setMaara(event.target.value);\r\n  };\r\n\r\n  const handleKuntaChange = (event) => {\r\n    setKunta(event.target.value);\r\n  };\r\n\r\n  const handlePaikkaChange = (event) => {\r\n    setPaikka(event.target.value);\r\n  };\r\n\r\n  const handlePvmChange = (event) => {\r\n    setPvm(event.target.value);\r\n  };\r\n\r\n  const handleTiedotChange = (event) => {\r\n    setLisatiedot(event.target.value);\r\n  };\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const user = await loginService.login({\r\n        username,\r\n        password,\r\n      });\r\n\r\n      window.localStorage.setItem(\r\n        'loggedNoteappUser', JSON.stringify(user)\r\n      )\r\n\r\n      LintuService.setToken(user.token)\r\n      setUser(user);\r\n      setUsername(\"\");\r\n      setPassword(\"\");\r\n    } catch (exception) {\r\n      console.log(exception);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async (event) => {\r\n    event.preventDefault();\r\n    window.localStorage.removeItem('loggedNoteappUser')\r\n    LintuService.setToken(null)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <BrowserRouter>\r\n          <div>\r\n            <h1>Lintupongari</h1>\r\n            <ul className=\"Links\">\r\n              <li>\r\n                <NavLink to=\"/register\">Register</NavLink>\r\n              </li>\r\n              <li>\r\n                <NavLink to=\"/havainnot\">Havainnot</NavLink>\r\n              </li>\r\n              <li>\r\n                <NavLink to=\"/linnut\">Linnut</NavLink>\r\n              </li>\r\n            </ul>\r\n            <div className=\"content\">\r\n              {user === null ? (\r\n                loginForm()\r\n              ) : (\r\n                <div>\r\n                  <p>{user.username} logged in \r\n                  <button onClick={handleLogout}>logout</button> </p>\r\n                  {lintuForm()}\r\n                </div>\r\n              )}\r\n\r\n              <Route path=\"/register\">\r\n                <Register />\r\n              </Route>\r\n              <Route path=\"/havainnot\">\r\n                <Havainnot\r\n                  havaintoList={havaintoList}\r\n                  deleteHavainto={deleteHavainto}\r\n                />\r\n              </Route>\r\n              <Route path=\"/linnut\">\r\n                <Linnut lintuList={lintuList} />\r\n              </Route>\r\n            </div>\r\n          </div>\r\n        </BrowserRouter>\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}