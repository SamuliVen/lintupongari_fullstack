{"version":3,"sources":["services/LintuService.js","components/Togglable.js","components/Havainto.js","services/login.js","Linnut.js","App.js","index.js"],"names":["havaintoUrl","lintuUrl","userUrl","token","getWikiHaku","haku","a","axios","get","response","data","getAll","then","getHavainto","getLintu","getUser","createUser","newObject","post","createHavainto","config","headers","Authorization","createLintu","updateHavainto","id","put","removeHavainto","delete","setToken","newToken","Togglable","React","forwardRef","props","ref","useState","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","children","className","onClick","buttonLabel","Havainto","changeHavainto","havaintoList","deleteHavainto","printHavainto","changedmaara","handleUpdateMaaraChange","changedkunta","handleUpdateKuntaChange","changedpaikka","handleUpdatePaikkaChange","changedlisatiedot","handleUpdateTiedotChange","map","havainto","laji","maara","kunta","paikka","lisatiedot","user","username","value","onChange","type","login","credentials","Linnut","lintuList","lintu","i","tieteellinenNimi","src","kuvaWikipediastaAPI","alt","lahko","heimo","suku","elinvoimaisuus","App","setHavaintoList","setLintuList","userList","setUserList","setLaji","setMaara","setKunta","setPaikka","setLisatiedot","setUsername","password","setPassword","newUsername","setNewUsername","newPassword","setNewPassword","setUser","setChangedMaara","setChangedKunta","setChangedPaikka","setChangedLisatiedot","wikiData","setWikiData","useEffect","LintuService","initialHavainnot","initialLinnut","initialUsers","loggedUserJSON","window","localStorage","getItem","JSON","parse","returnedData","catch","error","console","log","addHavainto","event","preventDefault","some","toLowerCase","alert","cirrusdoc","source","auxiliary_text","split","luokitus","tieteellinen","newWiki","title","original","returnedLintu","concat","returnedHavainto","handleLajiChange","target","handleMaaraChange","handleKuntaChange","handlePaikkaChange","handleTiedotChange","handleNewUsernameChange","handleNewPasswordChange","handleLogin","loginService","setItem","stringify","handleLogout","removeItem","handleNewUser","newUser","returnedUser","to","onSubmit","name","path","oldHavainto","find","h","updatedHavainto","confirm","removedHavainto","filter","bird","mywindow","open","document","write","getElementById","innerHTML","close","focus","print","ReactDOM","render"],"mappings":"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","file":"static/js/main.c148228a.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"/api/lintudb/\";\r\nconst havaintoUrl = \"/api/lintudb/havainto\";\r\nconst lintuUrl = \"/api/lintudb/lintu\";\r\nconst userUrl = \"/api/lintudb/user\";\r\nconst wikiUrl = \"/api/wiki?haku=\";\r\n\r\n\r\nlet token = null;\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`;\r\n};\r\n\r\nconst getWikiHaku = async (haku) => {\r\n  const response = await axios.get(wikiUrl + haku)\r\n  return response.data\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst getHavainto = () => {\r\n  const request = axios.get(havaintoUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst getLintu = () => {\r\n  const request = axios.get(lintuUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst getUser = () => {\r\n  const request = axios.get(userUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst createUser = async (newObject) => {\r\n  const response = await axios.post(userUrl, newObject);\r\n  return response.data;\r\n};\r\n\r\nconst createHavainto = async (newObject) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  };\r\n  const response = await axios.post(havaintoUrl, newObject, config);\r\n  return response.data;\r\n};\r\n\r\nconst createLintu = async (newObject) => {\r\n  const response = await axios.post(lintuUrl, newObject);\r\n  return response.data;\r\n};\r\n\r\nconst updateHavainto = (id, newObject) => {\r\n  const request = axios.put(`${havaintoUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst removeHavainto = (id) => {\r\n  const request = axios.delete(`${havaintoUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  getAll,\r\n  getHavainto,\r\n  getLintu,\r\n  getUser,\r\n  createUser,\r\n  createHavainto,\r\n  createLintu,\r\n  updateHavainto,\r\n  removeHavainto,\r\n  setToken,\r\n  getWikiHaku\r\n};\r\n","import React, { useState, useImperativeHandle } from \"react\";\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const hideWhenVisible = { display: visible ? \"none\" : \"\" };\r\n  const showWhenVisible = { display: visible ? \"\" : \"none\" };\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible);\r\n  };\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility,\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <button className=\"btn\" onClick={toggleVisibility}>\r\n          Peruuta\r\n        </button>\r\n      </div>\r\n      <div style={hideWhenVisible}>\r\n        <button className=\"btn\" onClick={toggleVisibility}>\r\n          {props.buttonLabel}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Togglable;\r\n","import React from \"react\";\r\nimport Togglable from \"./Togglable\";\r\n\r\nconst Havainto = ({\r\n  changeHavainto,\r\n  havaintoList,\r\n  deleteHavainto,\r\n  printHavainto,\r\n  changedmaara,\r\n  handleUpdateMaaraChange,\r\n  changedkunta,\r\n  handleUpdateKuntaChange,\r\n  changedpaikka,\r\n  handleUpdatePaikkaChange,\r\n  changedlisatiedot,\r\n  handleUpdateTiedotChange,\r\n}) => {\r\n  return (\r\n    <div className=\"havainnot\">\r\n      <h2> Havainnot </h2>\r\n      <ul>\r\n        {havaintoList.map((havainto) => (\r\n          <li key={havainto.id}>\r\n            <div id={havainto.id} className=\"havainto\">\r\n              <h3>Laji: {havainto.laji}</h3>\r\n              <p> Määrä: {havainto.maara}</p>\r\n              <p>\r\n                {\" \"}\r\n                Paikkakunta: {havainto.kunta} <br></br>\r\n                Paikka: {havainto.paikka}\r\n                <br></br>\r\n                Lisätiedot: {havainto.lisatiedot}\r\n              </p>\r\n              <p>Havainnoija: {havainto.user.username}</p>\r\n              <Togglable buttonLabel=\"Muokkaa havaintoa\">\r\n                <div>\r\n                  <h4>Päivitä havainto</h4>\r\n                  <form className=\"changeForm\">\r\n                    <table>\r\n                      <tr>\r\n                        Määrä:\r\n                        <td>\r\n                          <input\r\n                            value={changedmaara}\r\n                            onChange={handleUpdateMaaraChange}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        Kunta:\r\n                        <td>\r\n                          <input\r\n                            value={changedkunta}\r\n                            onChange={handleUpdateKuntaChange}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        Paikka:\r\n                        <td>\r\n                          <input\r\n                            value={changedpaikka}\r\n                            onChange={handleUpdatePaikkaChange}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        Lisätiedot:\r\n                        <td>\r\n                          <input\r\n                            value={changedlisatiedot}\r\n                            onChange={handleUpdateTiedotChange}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    </table>\r\n                    <br></br>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"btn\"\r\n                      onClick={() => changeHavainto(havainto.id)}\r\n                    >\r\n                      Tallenna\r\n                    </button>\r\n                    <button type=\"reset\" className=\"btn\">\r\n                      Tyhjennä\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </Togglable>\r\n              <br></br>\r\n              <br></br>\r\n              <button className=\"btn\" onClick={() => deleteHavainto(havainto)}>\r\n                Poista havainto\r\n              </button>\r\n              <input\r\n                type=\"button\"\r\n                className=\"btn\"\r\n                onClick={() => printHavainto(havainto.id)}\r\n                value=\"Tulosta havainto\"\r\n              />\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Havainto;\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n// eslint-disable-next-line\r\nexport default { login }","import React from 'react';\r\n\r\nconst Linnut = ({ lintuList }) => {\r\n    return (\r\n        <div className=\"lintutaulu\">\r\n            <h2> Lintutaulu </h2>\r\n            {lintuList.map((lintu, i) => {\r\n                    return (\r\n                        <div key={i}>\r\n                            <div className=\"lintu\">\r\n                                <h3>Laji: {lintu.laji}</h3>\r\n                                <p>Tieteellinen nimi: {lintu.tieteellinenNimi}</p>\r\n                                <img src={lintu.kuvaWikipediastaAPI} className=\"img\" alt={lintu.laji} />\r\n                                <p>Lahko: {lintu.lahko} <br></br>\r\n                                    Heimo: {lintu.heimo} <br></br>\r\n                                    Suku: {lintu.suku}</p>\r\n                                <p>Elinvoimaisuus: {lintu.elinvoimaisuus}</p>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Linnut","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter, NavLink, Route } from \"react-router-dom\";\r\nimport LintuService from \"./services/LintuService\";\r\nimport Havainto from \"./components/Havainto\";\r\nimport loginService from \"./services/login\";\r\nimport Togglable from \"./components/Togglable\";\r\nimport Linnut from \"./Linnut\";\r\nimport \"./index.css\";\r\n\r\nconst App = () => {\r\n  const [havaintoList, setHavaintoList] = useState([]);\r\n  const [lintuList, setLintuList] = useState([]);\r\n  const [userList, setUserList] = useState([]);\r\n  const [laji, setLaji] = useState(\"\");\r\n  const [maara, setMaara] = useState(\"\");\r\n  const [kunta, setKunta] = useState(\"\");\r\n  const [paikka, setPaikka] = useState(\"\");\r\n  const [lisatiedot, setLisatiedot] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [newUsername, setNewUsername] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n  const [changedmaara, setChangedMaara] = useState(\"\");\r\n  const [changedkunta, setChangedKunta] = useState(\"\");\r\n  const [changedpaikka, setChangedPaikka] = useState(\"\");\r\n  const [changedlisatiedot, setChangedLisatiedot] = useState(\"\");\r\n  const [wikiData, setWikiData] = useState({});\r\n\r\n  useEffect(() => {\r\n    LintuService.getHavainto().then((initialHavainnot) => {\r\n      setHavaintoList(initialHavainnot);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    LintuService.getLintu().then((initialLinnut) => {\r\n      setLintuList(initialLinnut);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    LintuService.getUser().then((initialUsers) => {\r\n      setUserList(initialUsers);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem(\r\n      \"loggedLintupongariUser\"\r\n    );\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON);\r\n      setUser(user);\r\n      LintuService.setToken(user.token);\r\n    }\r\n  }, []);\r\n\r\n  // Whenever field changes, the useEffect makes the wiki search. This way it finds the info before submitting.\r\n  // Not the ideal way, because it is done many times depending on the length of the birds name.\r\n\r\n  useEffect(() => {\r\n    if (!laji) {\r\n      console.log(\"No data yet\");\r\n    } else {\r\n      LintuService.getWikiHaku(laji)\r\n        .then((returnedData) => {\r\n          setWikiData(returnedData);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }, [laji]);\r\n\r\n  const addHavainto = (event) => {\r\n    event.preventDefault();\r\n    const newObject = {\r\n      laji: laji,\r\n      maara: maara,\r\n      kunta: kunta,\r\n      paikka: paikka,\r\n      lisatiedot: lisatiedot,\r\n      user: user.username,\r\n    }\r\n\r\n    if ( lintuList.some((lintu) => lintu.laji.toLowerCase() === laji.toLowerCase())) {\r\n      window.alert(laji + \" on jo lintutaulussa.\");\r\n    } else {\r\n      const lahkopalat = wikiData?.[0]?.cirrusdoc?.[0].source?.auxiliary_text[0].split(\r\n        \"Lahko: \"\r\n      );\r\n      const lahko = lahkopalat[1].split(\" \");\r\n      const heimopalat = wikiData?.[0]?.cirrusdoc?.[0].source?.auxiliary_text[0].split(\r\n        \"Heimo: \"\r\n      );\r\n      const heimo = heimopalat[1].split(\" \");\r\n      const sukupalat = wikiData?.[0]?.cirrusdoc?.[0].source?.auxiliary_text[0].split(\r\n        \"Suku: \"\r\n      );\r\n      const suku = sukupalat[1].split(\" \");\r\n      const luokituspalat = wikiData?.[0]?.cirrusdoc?.[0].source?.auxiliary_text[0].split(\r\n        \"Uhanalaisuusluokitus \"\r\n      );\r\n      const luokitus = luokituspalat[1].split(\" \");\r\n      const tieteellisetpalat = wikiData?.[0]?.cirrusdoc?.[0].source?.auxiliary_text[0].split(\r\n        \"Kaksiosainen nimi \"\r\n      );\r\n      const tieteellinen = tieteellisetpalat[1].split(\" \");\r\n\r\n      const newWiki = {\r\n        laji: wikiData?.[0]?.title,\r\n        tieteellinenNimi: `${tieteellinen[0]} ${tieteellinen[1]}`,\r\n        kuvaWikipediastaAPI: wikiData?.[0]?.original?.source,\r\n        lahko: `${lahko[0]} ${lahko[1]}`,\r\n        heimo: `${heimo[0]} ${heimo[1]}`,\r\n        suku: `${suku[0]} ${suku[1]}`,\r\n        elinvoimaisuus: luokitus[0],\r\n      };\r\n\r\n      LintuService.createLintu(newWiki).then((returnedLintu) => {\r\n        setLintuList(lintuList.concat(returnedLintu));\r\n        setWikiData(\"\");\r\n        console.log(lintuList);\r\n      });\r\n    }\r\n\r\n    LintuService.createHavainto(newObject).then((returnedHavainto) => {\r\n      setHavaintoList(havaintoList.concat(returnedHavainto));\r\n      setLaji(\"\");\r\n      setMaara(\"\");\r\n      setKunta(\"\");\r\n      setPaikka(\"\");\r\n      setLisatiedot(\"\");\r\n    });\r\n  };\r\n\r\n  const deleteHavainto = (havainto) => {\r\n    if (window.confirm(\"Poista \" + havainto.laji + \"?\")) {\r\n      LintuService.removeHavainto(havainto.id).then((removedHavainto) => {\r\n        setHavaintoList(havaintoList.filter((bird) => bird.id !== havainto.id));\r\n      });\r\n    }\r\n  };\r\n\r\n  const changeHavainto = (id) => {\r\n    const oldHavainto = havaintoList.find((h) => h.id === id);\r\n    console.log(oldHavainto.laji);\r\n\r\n    const updatedHavainto = {\r\n      laji: oldHavainto.laji,\r\n      maara: changedmaara,\r\n      kunta: changedkunta,\r\n      paikka: changedpaikka,\r\n      lisatiedot: changedlisatiedot,\r\n    };\r\n\r\n    LintuService.updateHavainto(id, updatedHavainto).then(\r\n      (returnedHavainto) => {\r\n        setHavaintoList(\r\n          havaintoList.map((h) => (h.id !== id ? h : returnedHavainto))\r\n        );\r\n        setChangedMaara(\"\");\r\n        setChangedKunta(\"\");\r\n        setChangedPaikka(\"\");\r\n        setChangedLisatiedot(\"\");\r\n      }\r\n    );\r\n  };\r\n\r\n  const printHavainto = (havainto) => {\r\n    var mywindow = window.open(\"\", \"PRINT\", \"height=400,width=600\");\r\n    mywindow.document.write(\r\n      \"<html><head><title>\" + document.title + \"</title>\"\r\n    );\r\n    mywindow.document.write(\"</head><body >\");\r\n    mywindow.document.write(\"<h1>\" + document.title + \"</h1>\");\r\n    mywindow.document.write(document.getElementById(havainto).innerHTML);\r\n    mywindow.document.write(\"</body></html>\");\r\n    mywindow.document.close();\r\n    mywindow.focus();\r\n    mywindow.print();\r\n\r\n    return true;\r\n  };\r\n\r\n  const registerForm = () => (\r\n    <Togglable buttonLabel=\"Rekisteröidy\">\r\n      <div className=\"Login-laatikko\">\r\n        <h2>Rekisteröi käyttäjätunnus</h2>\r\n        <form onSubmit={handleNewUser}>\r\n          <label>\r\n            <p>Määritä käyttäjätunnus:</p>\r\n            <input\r\n              type=\"text\"\r\n              value={newUsername}\r\n              onChange={handleNewUsernameChange}\r\n            />\r\n          </label>\r\n          <label>\r\n            <p>Määritä salasana:</p>\r\n            <input\r\n              type=\"password\"\r\n              value={newPassword}\r\n              onChange={handleNewPasswordChange}\r\n            />\r\n          </label>\r\n          <div>\r\n            <p>\r\n              <button className=\"btn\" type=\"submit\">\r\n                Rekisteröidy\r\n              </button>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </Togglable>\r\n  );\r\n\r\n  const loginForm = () => (\r\n    <div className=\"Login-laatikko\">\r\n      <h2>Kirjaudu sisään</h2>\r\n      <form onSubmit={handleLogin}>\r\n        <div>\r\n          <p>Käyttäjätunnus: </p>\r\n          <input\r\n            type=\"text\"\r\n            value={username}\r\n            name=\"Username\"\r\n            onChange={({ target }) => setUsername(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <p>Salasana: </p>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            name=\"Password\"\r\n            onChange={({ target }) => setPassword(target.value)}\r\n          />\r\n        </div>\r\n        <p>\r\n          <button className=\"btn\" type=\"submit\">\r\n            Kirjaudu\r\n          </button>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  const lintuForm = () => (\r\n      <div className=\"newSighting\">\r\n        <h4>Lisää uusi havainto:</h4>\r\n        <form onSubmit={addHavainto} className=\"lintuform\">\r\n          <div>\r\n            Laji: <input value={laji} onChange={handleLajiChange} />\r\n          </div>\r\n          <div>\r\n            Määrä: <input value={maara} onChange={handleMaaraChange} />\r\n          </div>\r\n          <div>\r\n            Kunta: <input value={kunta} onChange={handleKuntaChange} />\r\n          </div>\r\n          <div>\r\n            Paikka: <input value={paikka} onChange={handlePaikkaChange} />\r\n          </div>\r\n          <div>\r\n            Lisätiedot:{\" \"}\r\n            <input value={lisatiedot} onChange={handleTiedotChange} />\r\n          </div>\r\n          <br></br>\r\n          <button className=\"btn\" type=\"submit\">\r\n            Tallenna\r\n          </button>\r\n          <button className=\"btn\" type=\"reset\">\r\n            Tyhjennä\r\n          </button>\r\n        </form>\r\n      </div>\r\n  );\r\n\r\n  const handleLajiChange = (event) => {\r\n    setLaji(event.target.value);\r\n  };\r\n\r\n  const handleMaaraChange = (event) => {\r\n    setMaara(event.target.value);\r\n  };\r\n\r\n  const handleKuntaChange = (event) => {\r\n    setKunta(event.target.value);\r\n  };\r\n\r\n  const handlePaikkaChange = (event) => {\r\n    setPaikka(event.target.value);\r\n  };\r\n\r\n  const handleTiedotChange = (event) => {\r\n    setLisatiedot(event.target.value);\r\n  };\r\n\r\n  const handleUpdateMaaraChange = (event) => {\r\n    setChangedMaara(event.target.value);\r\n  };\r\n\r\n  const handleUpdateKuntaChange = (event) => {\r\n    setChangedKunta(event.target.value);\r\n  };\r\n\r\n  const handleUpdatePaikkaChange = (event) => {\r\n    setChangedPaikka(event.target.value);\r\n  };\r\n\r\n  const handleUpdateTiedotChange = (event) => {\r\n    setChangedLisatiedot(event.target.value);\r\n  };\r\n\r\n  const handleNewUsernameChange = (event) => {\r\n    setNewUsername(event.target.value);\r\n  };\r\n\r\n  const handleNewPasswordChange = (event) => {\r\n    setNewPassword(event.target.value);\r\n  };\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const user = await loginService.login({\r\n        username,\r\n        password,\r\n      });\r\n\r\n      window.localStorage.setItem(\r\n        \"loggedLintupongariUser\",\r\n        JSON.stringify(user)\r\n      );\r\n\r\n      LintuService.setToken(user.token);\r\n      setUser(user);\r\n      setUsername(\"\");\r\n      setPassword(\"\");\r\n    } catch (exception) {\r\n      console.log(exception);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async (event) => {\r\n    event.preventDefault();\r\n    window.localStorage.removeItem(\"loggedLintupongariUser\");\r\n    setUser(null);\r\n  };\r\n\r\n  const handleNewUser = (event) => {\r\n    event.preventDefault();\r\n    const newUser = {\r\n      username: newUsername,\r\n      password: newPassword,\r\n    };\r\n    LintuService.createUser(newUser).then((returnedUser) => {\r\n      setUserList(userList.concat(returnedUser));\r\n    });\r\n\r\n    window.alert(\"Tervetuloa \" + newUsername);\r\n    setNewUsername(\"\");\r\n    setNewPassword(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <BrowserRouter>\r\n          <div>\r\n            <ul className=\"Links\">\r\n              <li>\r\n                <NavLink to=\"/havainnot\">Havainnot</NavLink>\r\n              </li>\r\n              <li>\r\n                <NavLink to=\"/linnut\">Linnut</NavLink>\r\n              </li>\r\n              <h1>Lintupongari</h1>\r\n            </ul>\r\n            <div className=\"content\">\r\n              <div className=\"ToggleBox\">\r\n                {user === null ? (\r\n                  loginForm()\r\n                ) : (\r\n                  <div>\r\n                    <p className=\"newSighting\">\r\n                      Logged in as: <br/> {user.username}\r\n                      <br/>\r\n                      <br/>\r\n                      <button className=\"btn\" onClick={handleLogout}>\r\n                        Log out\r\n                      </button>{\" \"}\r\n                    </p>\r\n                    <br/>\r\n                    {lintuForm()}\r\n                  </div>\r\n                )}\r\n                <div>{user === null ? registerForm() : <div></div>}</div>\r\n              </div>\r\n              <Route path=\"/havainnot\">\r\n                <Havainto\r\n                  changeHavainto={changeHavainto}\r\n                  havaintoList={havaintoList}\r\n                  deleteHavainto={deleteHavainto}\r\n                  printHavainto={printHavainto}\r\n                  changedmaara={changedmaara}\r\n                  handleUpdateMaaraChange={handleUpdateMaaraChange}\r\n                  changedkunta={changedkunta}\r\n                  handleUpdateKuntaChange={handleUpdateKuntaChange}\r\n                  changedpaikka={changedpaikka}\r\n                  handleUpdatePaikkaChange={handleUpdatePaikkaChange}\r\n                  changedlisatiedot={changedlisatiedot}\r\n                  handleUpdateTiedotChange={handleUpdateTiedotChange}\r\n                />\r\n              </Route>\r\n              <Route path=\"/linnut\">\r\n                <Linnut lintuList={lintuList} />\r\n              </Route>\r\n            </div>\r\n          </div>\r\n        </BrowserRouter>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}